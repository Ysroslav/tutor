<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xml:lang="en" lang="en">
<h:head>
    <title>GO TEST</title>
    <link href="/css/style.css" rel="stylesheet" type="text/css"/>
    <f:metadata>
        <f:viewParam name="id" value="#{userGoPollController.id}" />
        <f:viewAction action="#{userGoPollController.init}" />
    </f:metadata>
</h:head>
<h:body>
<div class = "header-container">
    <ul class = "main-menu">
        <li><a class = "logo"><p:graphicImage name="image/logo.png"/></a></li>
        <li>
            <div class = "header">
                <ul class = "menu" style="padding-left: 900px">
                    <li><a class="active-menu" href = "/staff/staff-main.xhtml">MAIN</a></li>
                    <li><a href = "/logout">LOUYOT</a></li>
                </ul>
            </div>
        </li>
    </ul>
</div>
<h:form id="display">
    <h2><h:outputText value="#{userGoPollController.questions.get(userGoPollController.index).questionText}"/></h2>
        <p:dataTable styleClass="ans-table" rowStyleClass="row-ans-table" id="tab-answer" rowIndexVar="row"
                     var = "answer" value = "#{userGoPollController.staffAns}">
            <p:column style="width: 5%; border: 0px" >
                    <p:selectBooleanCheckbox value="#{answer.answerValue}">
                        <p:ajax update="display" listener="#{userGoPollController.putAnswer(answer)}"/>
                    </p:selectBooleanCheckbox>
            </p:column>
            <p:column style="width: 95%; border: 0px" >
                <h:outputText value = "#{answer.answer.answerText}"/>
            </p:column>
        </p:dataTable>
</h:form>
<h:form>
    <h:panelGrid columns="4" style="margin-top: 10px">
        <p:commandButton value="Back" update="display" action="#{userGoPollController.getDiscrement}"/>
        <p:commandButton value="Answer" update="display" action="#{userGoPollController.getAnswerStaff}"/>
        <p:commandButton value="Forward" update="display" action="#{userGoPollController.getIncrement}"/>
        <p:commandButton style="margin-left: 700px;" value="Finish" action="#{userGoPollController.finishTest}"/>
    </h:panelGrid>
</h:form>
</h:body>
</html>